import React from 'react'
import { Link } from 'react-router'
import { Container } from 'react-responsive-grid'
import { prefixLink } from 'gatsby-helpers'
import { rhythm, scale } from 'utils/typography'
import { config } from 'config'

class Template extends React.Component {
  render () {
    const { location, children } = this.props
    let header
    if (location.pathname === prefixLink('/')) {
      header = (
        <h1
          style={{
            ...scale(1.5),
            marginBottom: rhythm(3),
            marginTop: 0,
          }}
        >
          <Link
            style={{
              boxShadow: 'none',
              textDecoration: 'none',
              color: 'inherit',
            }}
            to={prefixLink('/')}
          >

            <img style={{
              display: 'block',
              float: 'left',
              marginRight: rhythm(.5),
              width: '72px',
              height: '72px'
            }} className="site-title__icon" src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMxNCAzMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMxNCAzMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTI4cHgiIGhlaWdodD0iMTI4cHgiPgo8Zz4KCTxjaXJjbGUgY3g9IjExMC4zMDIiIGN5PSIxNjEuMDM5IiByPSI1LjIyMSIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTExMC4zMDMsMTIzLjMzNmMtMjAuNzg5LDAtMzcuNzAyLDE2LjkxMy0zNy43MDIsMzcuNzAyYzAsMjAuNzg5LDE2LjkxMywzNy43MDIsMzcuNzAxLDM3LjcwMiAgIGMyMC43ODksMCwzNy43MDItMTYuOTEzLDM3LjcwMi0zNy43MDFDMTQ4LjAwMywxNDAuMjUxLDEzMS4wOSwxMjMuMzM3LDExMC4zMDMsMTIzLjMzNnogTTExMC4zMDIsMTg0Ljc0ICAgYy0xMy4wNjksMC0yMy43MDEtMTAuNjMzLTIzLjcwMS0yMy43MDJzMTAuNjMzLTIzLjcwMiwyMy43MDItMjMuNzAyYzEzLjA2OCwwLjAwMSwyMy43LDEwLjYzNCwyMy43MDEsMjMuNzAzICAgQzEzNC4wMDQsMTc0LjEwOCwxMjMuMzcxLDE4NC43NCwxMTAuMzAyLDE4NC43NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik03MC4xMzMsMTMwLjc1OGMtMi43NTQtMi43MTEtNy4xODctMi42NzYtOS44OTksMC4wNzljLTcuNjMzLDcuNzU3LTEyLjAxLDE4Ljc2Ni0xMi4wMDksMzAuMjAyICAgYy0wLjAwMSwxMS40MzgsNC4zNzYsMjIuNDQ1LDEyLjAwOSwzMC4yMDFjMS4zNywxLjM5MywzLjE4LDIuMDksNC45ODksMi4wOWMxLjc3MywwLDMuNTQ3LTAuNjY5LDQuOTEtMi4wMTEgICBjMi43NTUtMi43MTIsMi43OTEtNy4xNDUsMC4wNzktOS44OTljLTUuMDc3LTUuMTU4LTcuOTg4LTEyLjU4Ni03Ljk4Ny0yMC4zODFjLTAuMDAxLTcuNzk0LDIuOTEtMTUuMjIzLDcuOTg3LTIwLjM4MiAgIEM3Mi45MjQsMTM3LjkwMSw3Mi44ODgsMTMzLjQ3LDcwLjEzMywxMzAuNzU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTI4OS4yMzEsMzUuMTQ2SDI0Ljc2OUMxMS4xMTEsMzUuMTQ2LDAsNDYuMjU4LDAsNTkuOTE1djE5NC4xN2MwLDEzLjY1NywxMS4xMTEsMjQuNzY4LDI0Ljc2OSwyNC43NjhoMjY0LjQ2MyAgIGMxMy42NTcsMCwyNC43NjktMTEuMTExLDI0Ljc2OS0yNC43NjhWNTkuOTE1QzMxNCw0Ni4yNTgsMzAyLjg4OSwzNS4xNDYsMjg5LjIzMSwzNS4xNDZ6IE0zMDAsMjU0LjA4NSAgIGMwLDUuOTM3LTQuODMxLDEwLjc2OC0xMC43NjksMTAuNzY4SDI0Ljc2OWMtNS45MzgsMC0xMC43NjktNC44MzEtMTAuNzY5LTEwLjc2OFY1OS45MTVjMC01LjkzOCw0LjgzMS0xMC43NjksMTAuNzY5LTEwLjc2OSAgIGgyNjQuNDYzYzUuOTM4LDAsMTAuNzY5LDQuODMxLDEwLjc2OSwxMC43NjlWMjU0LjA4NXoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yMTcuOTU0LDIyNC42OTJjLTMuODY2LDAtNywzLjEzNC03LDd2MTMuMTQ5YzAsMy44NjYsMy4xMzQsNyw3LDdzNy0zLjEzNCw3LTd2LTEzLjE0OSAgIEMyMjQuOTU0LDIyNy44MjYsMjIxLjgyLDIyNC42OTIsMjE3Ljk1NCwyMjQuNjkyeiIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTI0Ny4xNDcsMjI0LjY5MmMtMy44NjYsMC03LDMuMTM0LTcsN3YxMy4xNDljMCwzLjg2NiwzLjEzNCw3LDcsN2MzLjg2NiwwLDctMy4xMzQsNy03di0xMy4xNDkgICBDMjU0LjE0NywyMjcuODI2LDI1MS4wMTQsMjI0LjY5MiwyNDcuMTQ3LDIyNC42OTJ6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNMjc2LjM0MywyMjQuNjkyYy0zLjg2NiwwLTcsMy4xMzQtNyw3djEzLjE0OWMwLDMuODY2LDMuMTM0LDcsNyw3YzMuODY2LDAsNy0zLjEzNCw3LTd2LTEzLjE0OSAgIEMyODMuMzQzLDIyNy44MjYsMjgwLjIwOSwyMjQuNjkyLDI3Ni4zNDMsMjI0LjY5MnoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yNTMuODE1LDc0LjA1NWMtMTguMjk1LDAtMzMuMTgsMTQuODg1LTMzLjE4LDMzLjE4YzAsNS4yMDEsMS4yMDYsMTAuMTI1LDMuMzQ5LDE0LjUxMmwtMjguMzc1LDIyLjI2OCAgIGMtNy45MzctMzkuODQxLTQzLjE2OS02OS45NjEtODUuMzA4LTY5Ljk2MWMtNDcuOTYzLDAtODYuOTg1LDM5LjAyMi04Ni45ODYsODYuOTg1YzAuMDAxLDQ3Ljk2NSwzOS4wMjMsODYuOTg2LDg2Ljk4Nyw4Ni45ODYgICBjNDcuOTYzLDAsODYuOTg0LTM5LjAyMSw4Ni45ODQtODYuOTg2YzAtMC4xODEtMC4wMDYtMC4zNTktMC4wMDctMC41MzlsMzUuMzU1LTI3Ljc0NmM1Ljc1MSw0Ljc4LDEzLjEzNSw3LjY2MSwyMS4xOCw3LjY2MSAgIGMxOC4yOTYsMCwzMy4xODEtMTQuODg1LDMzLjE4MS0zMy4xOFMyNzIuMTExLDc0LjA1NSwyNTMuODE1LDc0LjA1NXogTTExMC4zMDMsMjM0LjAyNGMtNDAuMjQ0LDAtNzIuOTg2LTMyLjc0MS03Mi45ODctNzIuOTg2ICAgYzAuMDAxLTQwLjI0NCwzMi43NDItNzIuOTg1LDcyLjk4Ni03Mi45ODVjMzcuODU1LDAsNjkuMDYzLDI4Ljk3Miw3Mi42MzYsNjUuOTA1bC0zMC4yNTksMjMuNzQ2ICAgYy0zLjA0MiwyLjM4Ny0zLjU3Miw2Ljc4Ny0xLjE4Niw5LjgyOGMxLjM4MSwxLjc2LDMuNDM2LDIuNjc5LDUuNTEyLDIuNjc5YzEuNTEyLDAsMy4wMzUtMC40ODcsNC4zMTYtMS40OTNsMjEuMTIzLTE2LjU3NiAgIEMxNzcuMDgsMjA3LjEzNiwxNDYuNzcyLDIzNC4wMjQsMTEwLjMwMywyMzQuMDI0eiBNMjUzLjgxNSwxMjYuNDE0Yy0zLjU0NCwwLTYuODU1LTAuOTgyLTkuNzA1LTIuNjY1bDE0LjAyNi0xMS4wMDggICBjMy4wNDItMi4zODcsMy41NzItNi43ODcsMS4xODYtOS44MjhjLTIuMzg2LTMuMDQxLTYuNzg3LTMuNTcxLTkuODI4LTEuMTg2bC0xNC4wNDIsMTEuMDJjLTAuNTI1LTEuNzQ3LTAuODE2LTMuNTk3LTAuODE2LTUuNTEzICAgYzAtMTAuNTc2LDguNjA0LTE5LjE4LDE5LjE4LTE5LjE4YzEwLjU3NiwwLDE5LjE4MSw4LjYwNCwxOS4xODEsMTkuMThDMjcyLjk5NiwxMTcuODExLDI2NC4zOTIsMTI2LjQxNCwyNTMuODE1LDEyNi40MTR6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==" />
            {config.blogTitle}
          </Link>
        </h1>
      )
    } else {
      header = (
        <h3
          style={{
            fontFamily: 'Montserrat, sans-serif',
            marginTop: 0,
          }}
        >
          <Link
            style={{
              boxShadow: 'none',
              textDecoration: 'none',
              color: 'inherit',
            }}
            to={prefixLink('/')}
          >
          <img style={{
            display: 'block',
            float: 'left',
            marginRight: rhythm(.5),
            width: '30px',
            height: '30px'
          }} className="site-title__icon" src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMxNCAzMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMxNCAzMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTI4cHgiIGhlaWdodD0iMTI4cHgiPgo8Zz4KCTxjaXJjbGUgY3g9IjExMC4zMDIiIGN5PSIxNjEuMDM5IiByPSI1LjIyMSIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTExMC4zMDMsMTIzLjMzNmMtMjAuNzg5LDAtMzcuNzAyLDE2LjkxMy0zNy43MDIsMzcuNzAyYzAsMjAuNzg5LDE2LjkxMywzNy43MDIsMzcuNzAxLDM3LjcwMiAgIGMyMC43ODksMCwzNy43MDItMTYuOTEzLDM3LjcwMi0zNy43MDFDMTQ4LjAwMywxNDAuMjUxLDEzMS4wOSwxMjMuMzM3LDExMC4zMDMsMTIzLjMzNnogTTExMC4zMDIsMTg0Ljc0ICAgYy0xMy4wNjksMC0yMy43MDEtMTAuNjMzLTIzLjcwMS0yMy43MDJzMTAuNjMzLTIzLjcwMiwyMy43MDItMjMuNzAyYzEzLjA2OCwwLjAwMSwyMy43LDEwLjYzNCwyMy43MDEsMjMuNzAzICAgQzEzNC4wMDQsMTc0LjEwOCwxMjMuMzcxLDE4NC43NCwxMTAuMzAyLDE4NC43NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik03MC4xMzMsMTMwLjc1OGMtMi43NTQtMi43MTEtNy4xODctMi42NzYtOS44OTksMC4wNzljLTcuNjMzLDcuNzU3LTEyLjAxLDE4Ljc2Ni0xMi4wMDksMzAuMjAyICAgYy0wLjAwMSwxMS40MzgsNC4zNzYsMjIuNDQ1LDEyLjAwOSwzMC4yMDFjMS4zNywxLjM5MywzLjE4LDIuMDksNC45ODksMi4wOWMxLjc3MywwLDMuNTQ3LTAuNjY5LDQuOTEtMi4wMTEgICBjMi43NTUtMi43MTIsMi43OTEtNy4xNDUsMC4wNzktOS44OTljLTUuMDc3LTUuMTU4LTcuOTg4LTEyLjU4Ni03Ljk4Ny0yMC4zODFjLTAuMDAxLTcuNzk0LDIuOTEtMTUuMjIzLDcuOTg3LTIwLjM4MiAgIEM3Mi45MjQsMTM3LjkwMSw3Mi44ODgsMTMzLjQ3LDcwLjEzMywxMzAuNzU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTI4OS4yMzEsMzUuMTQ2SDI0Ljc2OUMxMS4xMTEsMzUuMTQ2LDAsNDYuMjU4LDAsNTkuOTE1djE5NC4xN2MwLDEzLjY1NywxMS4xMTEsMjQuNzY4LDI0Ljc2OSwyNC43NjhoMjY0LjQ2MyAgIGMxMy42NTcsMCwyNC43NjktMTEuMTExLDI0Ljc2OS0yNC43NjhWNTkuOTE1QzMxNCw0Ni4yNTgsMzAyLjg4OSwzNS4xNDYsMjg5LjIzMSwzNS4xNDZ6IE0zMDAsMjU0LjA4NSAgIGMwLDUuOTM3LTQuODMxLDEwLjc2OC0xMC43NjksMTAuNzY4SDI0Ljc2OWMtNS45MzgsMC0xMC43NjktNC44MzEtMTAuNzY5LTEwLjc2OFY1OS45MTVjMC01LjkzOCw0LjgzMS0xMC43NjksMTAuNzY5LTEwLjc2OSAgIGgyNjQuNDYzYzUuOTM4LDAsMTAuNzY5LDQuODMxLDEwLjc2OSwxMC43NjlWMjU0LjA4NXoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yMTcuOTU0LDIyNC42OTJjLTMuODY2LDAtNywzLjEzNC03LDd2MTMuMTQ5YzAsMy44NjYsMy4xMzQsNyw3LDdzNy0zLjEzNCw3LTd2LTEzLjE0OSAgIEMyMjQuOTU0LDIyNy44MjYsMjIxLjgyLDIyNC42OTIsMjE3Ljk1NCwyMjQuNjkyeiIgZmlsbD0iIzAwMDAwMCIvPgoJPHBhdGggZD0iTTI0Ny4xNDcsMjI0LjY5MmMtMy44NjYsMC03LDMuMTM0LTcsN3YxMy4xNDljMCwzLjg2NiwzLjEzNCw3LDcsN2MzLjg2NiwwLDctMy4xMzQsNy03di0xMy4xNDkgICBDMjU0LjE0NywyMjcuODI2LDI1MS4wMTQsMjI0LjY5MiwyNDcuMTQ3LDIyNC42OTJ6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNMjc2LjM0MywyMjQuNjkyYy0zLjg2NiwwLTcsMy4xMzQtNyw3djEzLjE0OWMwLDMuODY2LDMuMTM0LDcsNyw3YzMuODY2LDAsNy0zLjEzNCw3LTd2LTEzLjE0OSAgIEMyODMuMzQzLDIyNy44MjYsMjgwLjIwOSwyMjQuNjkyLDI3Ni4zNDMsMjI0LjY5MnoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yNTMuODE1LDc0LjA1NWMtMTguMjk1LDAtMzMuMTgsMTQuODg1LTMzLjE4LDMzLjE4YzAsNS4yMDEsMS4yMDYsMTAuMTI1LDMuMzQ5LDE0LjUxMmwtMjguMzc1LDIyLjI2OCAgIGMtNy45MzctMzkuODQxLTQzLjE2OS02OS45NjEtODUuMzA4LTY5Ljk2MWMtNDcuOTYzLDAtODYuOTg1LDM5LjAyMi04Ni45ODYsODYuOTg1YzAuMDAxLDQ3Ljk2NSwzOS4wMjMsODYuOTg2LDg2Ljk4Nyw4Ni45ODYgICBjNDcuOTYzLDAsODYuOTg0LTM5LjAyMSw4Ni45ODQtODYuOTg2YzAtMC4xODEtMC4wMDYtMC4zNTktMC4wMDctMC41MzlsMzUuMzU1LTI3Ljc0NmM1Ljc1MSw0Ljc4LDEzLjEzNSw3LjY2MSwyMS4xOCw3LjY2MSAgIGMxOC4yOTYsMCwzMy4xODEtMTQuODg1LDMzLjE4MS0zMy4xOFMyNzIuMTExLDc0LjA1NSwyNTMuODE1LDc0LjA1NXogTTExMC4zMDMsMjM0LjAyNGMtNDAuMjQ0LDAtNzIuOTg2LTMyLjc0MS03Mi45ODctNzIuOTg2ICAgYzAuMDAxLTQwLjI0NCwzMi43NDItNzIuOTg1LDcyLjk4Ni03Mi45ODVjMzcuODU1LDAsNjkuMDYzLDI4Ljk3Miw3Mi42MzYsNjUuOTA1bC0zMC4yNTksMjMuNzQ2ICAgYy0zLjA0MiwyLjM4Ny0zLjU3Miw2Ljc4Ny0xLjE4Niw5LjgyOGMxLjM4MSwxLjc2LDMuNDM2LDIuNjc5LDUuNTEyLDIuNjc5YzEuNTEyLDAsMy4wMzUtMC40ODcsNC4zMTYtMS40OTNsMjEuMTIzLTE2LjU3NiAgIEMxNzcuMDgsMjA3LjEzNiwxNDYuNzcyLDIzNC4wMjQsMTEwLjMwMywyMzQuMDI0eiBNMjUzLjgxNSwxMjYuNDE0Yy0zLjU0NCwwLTYuODU1LTAuOTgyLTkuNzA1LTIuNjY1bDE0LjAyNi0xMS4wMDggICBjMy4wNDItMi4zODcsMy41NzItNi43ODcsMS4xODYtOS44MjhjLTIuMzg2LTMuMDQxLTYuNzg3LTMuNTcxLTkuODI4LTEuMTg2bC0xNC4wNDIsMTEuMDJjLTAuNTI1LTEuNzQ3LTAuODE2LTMuNTk3LTAuODE2LTUuNTEzICAgYzAtMTAuNTc2LDguNjA0LTE5LjE4LDE5LjE4LTE5LjE4YzEwLjU3NiwwLDE5LjE4MSw4LjYwNCwxOS4xODEsMTkuMThDMjcyLjk5NiwxMTcuODExLDI2NC4zOTIsMTI2LjQxNCwyNTMuODE1LDEyNi40MTR6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==" />{config.blogTitle}
          </Link>
        </h3>
      )
    }
    return (
      <Container
        style={{
          maxWidth: rhythm(24),
          padding: `${rhythm(1.5)} ${rhythm(3/4)}`,
        }}
      >
        {header}
        {children}
      </Container>
    )
  }
}

Template.propTypes = {
  children: React.PropTypes.any,
  location: React.PropTypes.object,
  route: React.PropTypes.object,
}

export default Template
